# 1. Назначение документа

Настоящий документ описывает **концепцию, термины, целевую архитектуру и ключевые бизнес-процессы** новой информационной системы (далее — Система), предназначенной для поддержки деятельности обособленного подразделения по разработке и производству СВЧ-модулей.

Документ нужен для того, чтобы:

* все участники (руководство, инженеры, технологи, снабженцы, разработчики ПО) одинаково понимали:

  * **что мы строим**,
  * **зачем**,
  * **в каких границах**;
* задать **основу архитектуры** до начала детальной разработки и миграции с Компонент-2020;
* определить порядок разработки модулей.

---

# 2. Контекст и исходные условия

* Обособленное подразделение (~20 человек) занимается:
  * разработкой и производством СВЧ-модулей;
  * опытным и мелкосерийным позаказным производством (партии порядка 1–100 шт).

## 2.1. Особенности производства

* высокая доля НИОКР и опытно-конструкторских работ;
* частые изменения конструкторской и технологической документации;
* высокая вариативность номенклатуры и большое количество уникальных заказов при малом размере партий;
* запуск в производство изделий, находящихся ещё на стадии разработки и сопровождаемых неполным комплектом конструкторской и технологической документации;
* плотное взаимодействие с контрагентами по изготовлению печатных плат по нашим данным (Gerber-файлы, данные из Altium), деталей по нашим чертежам, а также по нанесению гальванических и лакокрасочных покрытий;
* высокая значимость оперативной диспетчеризации и контроля исполнения заказов и заявок из-за малых партий, большого числа уникальных изделий и участия множества контрагентов.

# 3. Цели и границы проекта

## 3.1. Цели

1. Создать **собственную систему**, адаптированную под специфику подразделения (опытное и мелкосерийное СВЧ-производство).
2. Повысить **управляемость и прозрачность** ключевых процессов во всех модулях (заявки, закупка, производство, склад, инженерный и технологический контуры).
3. Обеспечить **поэтапную и безопасную замену функций Компонента-2020** без «обрыва» текущей деятельности.
4. Сформировать **ясную модульную архитектуру**, пригодную для поэтапного развития и масштабирования.
5. Обеспечить **оперативную диспетчеризацию и контроль исполнения** заявок, заказов, закупок и производственных задач в единой системе.

## 3.2. Границы проекта

В целом проект создания Системы охватывает:

* управление заявками на разработку, изготовление и закупку;
* работу с заказами клиентов;
* закупку и взаимодействие с контрагентами (платы, детали, покрытия и др.);
* управление производственными заказами и партиями;
* складской контур (остатки, движения, резервы);
* инженерный контур (изделия, ревизии, спецификации, конструкторская документация);
* технологический контур (маршруты, операции, нормы времени, технологические инструкции);
* управленческую отчётность и аналитику на уровне подразделения.

За пределами проекта остаются:

* регламентированный бухгалтерский и налоговый учёт;
* расчёт заработной платы и кадровый учёт;
* внешние корпоративные системы, не связанные напрямую с производством и закупкой СВЧ-модулей.

## 3.3. Предварительное видение этапов проекта

Настоящий документ задаёт общую рамку проекта и ориентировочную этапность. Детальные планы и уточнённые границы каждого этапа будут оформляться отдельными документами, согласованными с настоящей концепцией.

**Этап 1. Модуль заявок и базовая интеграция**

Фокус: запуск модуля `Requests` как единой точки входа для всех типов заявок и обеспечение базового обмена данными с Компонентом-2020.

Включает:

* создание, согласование и сопровождение всех типов заявок;
* использование справочников и заказов из Компонента (чтение заказов клиентов, номенклатуры/комплектующих);
* формирование заказов поставщикам по итогам заявок на закупку с записью соответствующих документов в Компонент по упрощённой схеме (без детальной работы с КП и выбором поставщиков внутри Системы).

**Этап 2. Заказы клиентов и закупка**

Фокус: перенос управления заказами клиентов и закупочной деятельностью в новую Систему.

Включает:

* ведение заказов клиентов в модуле `Customers`;
* развитие модуля `Procurement` как полнофункционального закупочного контура (заявки на закупку, запрос и учёт КП, выбор поставщиков, заказы поставщикам и их статусы);
* увязку цепочки «заявка → заказ клиента → закупка» и базовую диспетчеризацию по этим объектам;
* использование Компонента как учётного слоя для отражения заказов и поступлений.

**Этап 3. Производство, склад и диспетчеризация**

Фокус: перенос основного производственного и складского контура с обеспечением оперативной диспетчеризации.

Включает:

* развитие модуля `Production` (производственные заказы, партии, статусы операций и стадий);
* развитие модуля `Warehouse` (остатки, движения, резервы, базовые операции склада);
* внедрение инструментов диспетчеризации и оперативного контроля исполнения производственных заказов, партий и связанных складских операций;
* постепенное снижение зависимости от складского и производственного функционала Компонента.

**Этап 4. Инженерный контур, технологический контур и аналитика**

Фокус: перенос инженерных и технологических данных в Систему и построение расширенной аналитики.

Включает:

* развитие модуля `Engineering` (изделия, ревизии, спецификации, конструкторская документация);
* развитие модуля `Technology` (маршруты, операции, нормы времени, технологические инструкции и карты процессов);
* увязку КД/ТД и производственных маршрутов с заказами и партиями;
* построение управленческой и технической аналитики на основе данных всех модулей;
* окончательное минимизирование роли Компонента-2020 до архива/источника исторических данных (или его вывод из эксплуатации, если это будет принято).

---

# 4. Ключевые термины и определения

В этом разделе фиксируем «язык», на котором дальше говорим.

## 4.1. Заявка

**Заявка** — формализованный запрос на выполнение действия, связанного с жизненным циклом изделия, партии, материалов, услуг или документации (разработка, изготовление, закупка/обеспечение, внешний технологический этап, изменение, сервис).

С точки зрения Системы, заявка — инициатива, запускающая процессы согласования и исполнения, но сама по себе ещё не является обязательством (таким как заказ клиента, производственный заказ или заказ поставщику).

Для каждой заявки в явном виде фиксируются как минимум следующие характеристики:

* **источник** (головное предприятие, внешний заказчик, внутренний инициатор);
* **адресат** (наше подразделение, головное предприятие, внешний поставщик/подрядчик);
* **объект** (изделие, партия, материалы/комплектующие, услуги, документация, технологический этап);
* **цель** (разработка, изготовление, закупка/обеспечение, внешний технологический этап, изменение, сервис).

Конкретные типы заявок и их краткие определения приведены в пункте 4.7, а детальное описание логики работы с заявками будет оформлено в отдельном документе по модулю заявок (Этап 1).

## 4.2. Заказ клиента

**Заказ клиента** — принятое подразделением обязательство выполнить работы и/или поставить изделия:

* оформляется на основе внешней заявки (от головного предприятия или стороннего заказчика);
* фиксирует:

  * что делаем (изделие/комплекс работ);
  * в каком объёме;
  * к какому сроку;
  * по каким условиям.

---

## 4.3. Производственный заказ и партия

**Производственный заказ** — внутреннее задание производству:

* изготовить определённое количество изделий;
* по конкретной ревизии изделия;
* по определённому маршруту/техпроцессу.

**Партия (Batch)** — группа изделий внутри производственного заказа, проходящая производственный цикл и контроль качества как единое целое.

---

## 4.4. Заказ поставщику

**Заказ поставщику** — обязательство приобрести у конкретного поставщика:

* комплектующие, материалы, услуги;
* в определённом количестве, по определённой цене и к сроку.

Один заказ поставщику может включать в себя позиции, сформированные на основании **нескольких заявок** (на обеспечение, внешний технологический этап и т.п.), а одна заявка на закупку/обеспечение может быть реализована через **несколько заказов** разным поставщикам. Таким образом, между заявками и заказами поставщикам допускается связь «многие-ко-многим», которая должна быть явно зафиксирована в Системе.

---

## 4.5. Инженерный и технологический объект

* **Изделие (Product)** — объект разработки/производства (СВЧ-модуль, блок и т.п.).
* **Ревизия/версия изделия** — конкретный вариант изделия, определённый комплектом КД и требований.
* **Спецификация / BOM** — перечень комплектующих/материалов с количествами.
* **Маршрут/техпроцесс** — последовательность операций и стадий производства.

---

## 4.6. Склад и запасы

* **Складской остаток** — наличие компонентов/материалов/изделий по складам/ячейкам.
* **Резерв** — «забронированное» количество под конкретный заказ/партию.
* **Движение** — факт прихода, расхода, перемещения, списания.

## 4.7. Типы заявок (глоссарий)

* **Заявка заказчика** — заявка, инициируемая головным предприятием или сторонним заказчиком и направленная в адрес подразделения с целью разработки, изготовления или разработки+изготовления изделия.
* **Внутренняя производственная заявка** — заявка, инициируемая сотрудниками подразделения на запуск изготовления изделия или партии для внутренних нужд (опытные образцы, доработки, дополнительные экземпляры и т.п.).
* **Заявка на обеспечение / закупку** — внутренний запрос на обеспечение подразделения материалами, комплектующими, оснасткой или общепроизводственными услугами, адресованный головному предприятию или внешним поставщикам. Для таких заявок в явном виде фиксируются: адресат (головное предприятие / внешние поставщики) и маршрут закупки (закупка через головное предприятие / прямая закупка подразделением). Оплата счетов поставщиков во всех сценариях осуществляется головным предприятием; Система хранит данные о счетах и маршрутах закупки для обеспечения прозрачности и анализа.
* **Заявка на внешний технологический этап** — заявка на выполнение внешними контрагентами отдельных технологических операций или этапов производства (изготовление печатных плат по данным из САПР, мехобработка деталей по нашим чертежам, нанесение гальванических и лакокрасочных покрытий и т.п.), привязанная к конкретному изделию, партии или операции маршрута.
* **Заявка на изменение** — заявка на изменение изделия, спецификации, конструкторской или технологической документации (Engineering / Technology Change Request), влияющая на состав изделия, процессы его изготовления или условия закупки.
* **Сервисная заявка / заявка на рекламацию** — заявка на ремонт, сервисное обслуживание или разбор отказа по уже поставленным изделиям (перспективный тип, реализация планируется на следующих этапах проекта).

---

# 5. Целевой архитектурный подход

## 5.1. Общая идея

Целевая архитектура — **модульный монолит**:

* **одно приложение**;
* **одна основная база данных**;
* внутри — **чётко выделенные доменные модули** с ограниченной ответственностью;
* Компонент выступает как **внешняя система**, с которой работаем через адаптер.

Такой подход:

* упрощает разработку и сопровождение (нет зоопарка микросервисов);
* позволяет постепенно переносить функционал из Компонента в новую систему;
* сохраняет возможность в будущем выделить отдельные домены в отдельные сервисы, если это станет нужно.

## 5.2. Доменные модули

Планируется выделение следующих доменов (логических модулей):

1. **Requests** — Управление заявками и инициативами

   * все типы заявок, перечисленные в разделе 4.7;
   * жизненный цикл заявок (статусы, согласования, история);
   * связи заявка ↔ заказы ↔ закупки ↔ производство.

2. **Customers** — Клиенты и заказы клиентов

   * контрагенты-заказчики (внешние и головное предприятие);
   * заказы клиентов;
   * статусы выполнения заказов.

3. **Engineering** — Инженерный домен

   * изделия, их классификация и идентификация;
   * ревизии/версии изделий;
   * спецификации (BOM) на изделие;
   * конструкторская документация (чертежи, модели, схемы, файлы САПР, в т.ч. Gerber/Altium для плат).

4. **Technology** — Технологический домен

   * маршруты и техпроцессы;
   * технологические операции, их последовательность и взаимосвязи;
   * нормы времени, используемое оборудование и оснастка;
   * технологические инструкции, карты процессов, профили пайки и т.п.

5. **Production** — Производство

   * производственные заказы;
   * партии;
   * планирование запуска и укрупнённое планирование загрузки участков/оборудования на основе маршрутов и нормативов;
   * статусы прохождения стадий производства;
   * диспетчеризация и контроль выполнения производственных заданий.

6. **Procurement** — Закупка

   * обработка заявок на закупку (на основе согласованных заявок из `Requests`);
   * учёт коммерческих предложений и счетов поставщиков (без проведения платёжных операций; оплата всегда выполняется головным предприятием);
   * формирование и ведение заказов поставщикам и их статусов;
   * поддержка различных маршрутов закупки (через головное предприятие и прямая закупка подразделением) при неизменном плательщике — головном предприятии.

7. **Warehouse** — Склад

   * склады, ячейки;
   * остатки;
   * резервы;
   * движения.

8. **Integration.Component2020** — Интеграция с Компонент-2020

   * чтение справочников, заказов, остатков;
   * создание/обновление заказов поставщикам и производственных заказов (по мере миграции функций).

## 5.3. Принципы взаимодействия модулей

1. **Один владелец данных**

   * каждая сущность имеет «домашний» домен, который отвечает за создание/изменение;
   * другие модули могут только читать или взаимодействовать через публичные методы/сервисы этого домена.

2. **Запрещены «обходные пути»**

   * домены не обращаются напрямую к таблицам других доменов;
   * взаимодействие только через чётко определённые интерфейсы.

3. **Компонент — внешний мир**

   * доступ к базе Компонента только через модуль `Integration.Component2020`;
   * новая система не пишет напрямую в Access «изнутри» доменов.

4. **Постепенная смена «источника правды»**

   * сначала некоторыми данными «владеет» Компонент, Система их только читает;
   * по мере развития модулей, владение переходит в новую БД, а Компонент становится «отражением/архивом».

## 5.4. Интеграция с внешними BPM-системами

* Система является источником и хранилищем предметных данных (заявки, заказы клиентов, производственные заказы, партии, складские остатки, результаты контроля качества и т.п.).
* Внешняя BPM-система при необходимости может использоваться для моделирования и исполнения сложных регламентных процессов (многоступенчатое согласование, разбор несоответствий, управление отступлениями, рекламациями и др.).
* Взаимодействие Системы и BPM-системы осуществляется через API:

  * Система может инициировать запуск/обновление бизнес-процессов во внешней BPM по событиям (создание/изменение заявок, выявление несоответствий, ключевые вехи исполнения заказов и т.п.);
  * BPM-система может вызывать API Системы для изменения статусов сущностей (заявок, заказов, несоответствий и др.) по результатам выполнения задач пользователями.
* Конкретные интеграционные сценарии (какие процессы выносятся во внешнюю BPM, какие остаются внутри Системы) описываются в детализированных ТЗ по этапам проекта.

## 5.5. Технический стек (предварительно)

- **База данных:** PostgreSQL  
  - единая база данных для всех доменов;  
  - при необходимости — раздельные схемы/префиксы по доменам (`requests`, `customers`, `engineering`, `technology`, `production`, `procurement`, `warehouse` и т.д.);  
  - управление изменениями структуры — через систему миграций (конкретный инструмент выбирается на этапе детального проектирования).

- **Серверное приложение (backend):**  
  - единое серверное приложение по архитектуре «модульный монолит»;  
  - реализация доменной логики по модулям: `Requests`, `Customers`, `Engineering`, `Technology`, `Production`, `Procurement`, `Warehouse`, `Integration.Component2020`;  
  - внешний REST API (JSON) для клиентского приложения и интеграций.

- **Клиентское приложение (frontend):**  
  - веб-клиент, работающий в браузере пользователей;  
  - взаимодействие с сервером по HTTP(S) через REST API;  
  - поддержка основных ролей: инициатор заявки, согласующие, инженеры, технологи, снабженцы, диспетчеры и руководители.

- **Интеграция с Компонент-2020:**  
  - отдельный модуль `Integration.Component2020` в составе серверного приложения;  
  - доступ к базе данных Компонента (Access) только со стороны сервера, без прямых подключений клиентских рабочих мест;  
  - поэтапное сокращение числа используемых объектов в Компоненте по мере миграции функций в новую Систему.

- **Выбор языков и фреймворков:**  
  - конкретные языки программирования и фреймворки для backend и frontend не фиксируются в данной концепции;  
  - выбор стека реализации осуществляется на этапе детального проектирования совместно с исполнителем/командой разработки, исходя из доступных компетенций, требований к сопровождению и инфраструктурных ограничений.

# 6. Ключевые бизнес-процессы

Детализированное описание ключевых бизнес-процессов (заявки, закупка, разработка и постановка изделий на производство, планирование производства и диспетчеризация) вынесено в отдельный документ «Бизнес-процессы новой информационной системы подразделения». Настоящий документ фокусируется на общей концепции и архитектуре системы.

# 7. План эволюции и замещения Компонент-2020 (кратко)

Детальное предварительное описание этапов проекта приведено в разделе 3.3. Ниже зафиксирована их краткая сводка для удобства.

1. **Этап 1. Модуль заявок и базовая интеграция.**  Ввод модуля заявок, базовый обмен с Компонентом, формирование заказов поставщикам из Системы.
2. **Этап 2. Заказы клиентов и закупка.** Перенос управления заказами клиентов и закупочной деятельностью в Систему, Компонент — преимущественно учётный слой.
3. **Этап 3. Производство, склад и диспетчеризация.** Перенос основного производственного и складского функционала, внедрение оперативной диспетчеризации и контроля исполнения.
4. **Этап 4. Инженерный и технологический контуры, аналитика.** Перенос инженерных и технологических данных, построение расширенной аналитики, возможный вывод Компонента из эксплуатации или сведение его роли к архиву.

Детальная дорожная карта и критерии перехода на каждый этап оформляются отдельным документом.

---

# 8. Принципы разработки и внедрения

1. **Постепенность и обратимая миграция**

   * не выключать Компонент резко;
   * на каждом этапе иметь план отката/параллельной работы.

2. **Минимальный жизнеспособный функционал (MVP)**

   * сначала введение ключевых функций (создать/согласовать/отслеживать заявку);
   * затем итеративное расширение (закупка, производство, склад).

3. **Простота для пользователей**

   * интерфейсы должны быть проще и удобнее, чем текущие Excel/ручные методы;
   * основные сценарии — максимум в 2–3 клика от главного экрана.

4. **Прозрачность процессов**

   * для каждой заявки должен быть понятен:

     * текущий статус,
     * ответственный,
     * связи с заказами, закупками, партиями.

5. **Явные границы доменов**

   * соблюдение архитектурной дисциплины важнее «быстрого костыля»;
   * каждый домен отвечает за свои данные и логику, интеграция — только по явным контрактам.

6. **Ориентация на отраслевые стандарты и практики**

   * структура данных для КД/ТД совместима с требованиями ЕСКД/ЕСТД;
   * процессы разработки, постановки и изменения изделий опираются на подходы NPI/Stage-Gate и практики управления изменениями (ECR/ECO);
   * там, где это целесообразно, допускается использование внешних BPM-систем для управления сложными регламентными процессами при сохранении источника предметных данных в Системе.
