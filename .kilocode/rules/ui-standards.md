# UI-СТАНДАРТЫ
## Проект: Новая информационная система подразделения

### Назначение документа

Настоящий документ определяет **единые правила проектирования пользовательского интерфейса** Системы и является **обязательным к применению** при:

- разработке новых экранов;
- расширении существующего функционала;
- генерации интерфейсов с помощью ИИ;
- рефакторинге и унификации UI.

Документ используется как **контекст для ИИ** при генерации кода интерфейса (React + Ant Design).

---

## 1. Общие принципы (обязательные)

### 1.1. Роль-ориентированность

Интерфейс проектируется **не вокруг таблиц или модулей**, а вокруг **ролей и рабочих задач пользователя**.

Пользователь всегда должен видеть:
- только те функции, которые относятся к его роли;
- приоритетные для него задачи (согласование, исполнение, контроль).

**Запрещено**:
- выводить в одном экране «всё сразу»;
- заставлять пользователя искать, где у него работа.

---

### 1.2. Единый каркас (App Shell)

Вся Система использует **единый каркас интерфейса (App Shell)**.

#### Структура App Shell

1. **Header (верхняя панель)** — глобальные элементы:
   - название системы;
   - текущий пользователь;
   - уведомления;
   - глобальный поиск;
   - доступ к пользовательским настройкам и выходу.

2. **Left Navigation (левое меню)** — только **домены верхнего уровня**:
   - Requests  
   - Customers  
   - Procurement  
   - Production  
   - Warehouse  
   - Engineering  
   - Technology  
   - Quality  
   - References (Справочники)  
   - Administration

3. **Content (рабочая область)** — все экраны, журналы, карточки.

**Запрещено**:
- создавать альтернативные layout’ы для модулей;
- размещать доменные функции в Header.

---

## 2. Навигация по доменам

### 2.1. Домен = бизнес-контур

Каждый пункт левого меню соответствует **устойчивому бизнес-домену**, а не техническому модулю.

Примеры:
- `Requests` — все инициативы и заявки;
- `Procurement` — закупка и заказы поставщикам;
- `Production` — производственные заказы и исполнение;
- `Engineering` — изделия, КД, ревизии;
- `Technology` — техпроцессы, операции, маршруты;
- `Quality` — ОТК, несоответствия, приёмка.

**Запрещено**:
- создавать пункты меню вида «Таблицы», «Формы», «Сущности».

---

### 2.2. Вложенность меню

Внутри домена допускается **не более двух уровней вложенности**.

Пример (`Requests`):
- Requests  
  - Журнал заявок  
  - Мои заявки  
  - На согласовании

---

## 3. Базовый паттерн экранов (обязательный)

### 3.1. Паттерн «Журнал → Карточка»

Любая сущность, которая имеет жизненный цикл, **обязана иметь**:

1. **Журнал (List / Table)**  
2. **Карточку (Details / Form)**

Дополнительные представления допускаются только после реализации этих двух.

---

### 3.2. Журнал (List)

Журнал — основной рабочий экран.

**Обязательные элементы журнала**:
- таблица;
- фильтры;
- сортировка;
- сохранённые представления;
- верхняя панель действий (Command Bar).

**Типовые действия**:
- Создать;
- Открыть;
- Массовые операции (если применимо).

**Запрещено**:
- редактировать сложные данные прямо в таблице;
- размещать бизнес-логику в pop-up без карточки.

---

### 3.3. Карточка (Details)

Карточка — единое место работы с объектом.

Карточка всегда содержит:
- заголовок (тип + номер/код + статус);
- верхнюю панель действий;
- вкладки (см. раздел 4).

---

## 4. Стандарт вкладок карточки

Для всех ключевых сущностей используется **единый шаблон вкладок**.

### 4.1. Базовый шаблон вкладок

1. **Общее**  
   Основные атрибуты, статус, ключевые поля.

2. **Состав / Связи**  
   Позиции, BOM, связи с заказами, заявками, партиями.

3. **Документы**  
   Файлы, КД/ТД, КП, счета, сканы.

4. **История**  
   История изменений, статусов, комментарии, аудит.

5. **Согласования / Задачи**  
   Назначенные действия, текущее состояние исполнения.

6. **Интеграции / Логи** (по ролям)  
   Обмен с внешними системами, технические события.

**Правило**: если новая функция не помещается ни в одну из вкладок — необходимо создавать новую сущность, а не новую вкладку.

---

## 5. Действия и Command Bar

### 5.1. Единое место для действий

Все действия над объектом размещаются в **Command Bar**:
- Изменить статус;
- Отправить на согласование;
- Закрыть / Отменить;
- Создать связанную сущность.

**Запрещено**:
- дублировать действия в разных местах карточки;
- разносить бизнес-действия по вкладкам.

---

## 6. Настройки, справочники и администрирование

### 6.1. Строгое разделение

| Раздел | Назначение |
|------|-----------|
| Пользовательские настройки | Личные предпочтения |
| Справочники (References) | Бизнес-данные |
| Администрирование | Система и доступ |

---

### 6.2. Справочники (References)

Справочники организуются **иерархически**, а не списком.

Пример:
- References  
  - Номенклатура  
  - Контрагенты  
  - Единицы измерения  
  - Производственные справочники  
  - Качество

Карточки справочников используют тот же паттерн «Журнал → Карточка».

---

## 7. Inbox и диспетчеризация

Каждый пользователь имеет **единый Inbox**:
- заявки «на согласовании у меня»;
- задачи исполнения;
- просроченные действия;
- замечания ОТК.

Inbox — приоритетный экран после входа.

---

## 8. Правила расширения интерфейса

При добавлении нового функционала:

1. Сначала:
   - новое представление журнала;
   - новый фильтр;
   - новое действие.

2. Только потом:
   - новая вкладка;
   - новый экран.

**Запрещено**:
- добавлять новый экран без явного бизнес-сценария.

---

## 9. Инструкция для ИИ

При генерации интерфейса ИИ обязан:

1. Использовать существующий App Shell без изменений.
2. Выбирать существующий домен.
3. Применять паттерн «Журнал → Карточка».
4. Использовать стандарт вкладок.
5. Размещать действия только в Command Bar.
6. Не придумывать новые разделы меню без указания пользователя.

При сомнениях ИИ должен запрашивать уточнение.

---

## 10. Цель стандарта

Цель стандарта — обеспечить:
- масштабируемость интерфейса;
- единообразие UI при росте системы;
- предсказуемость интерфейса для пользователей;
- корректную генерацию UI с помощью ИИ.

